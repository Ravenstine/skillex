Intro:
  dialog: Welcome to Spooky House.  The object of this game is to get to the exit with treasure and not get killed. You enter the spooky house.
  go to: First Floor

First Floor:
  dialog: You're on the first floor.
  choice:
    dialog: Would you like to go upstairs, or stay on the floor you're on?
    reprompt: Well?  What will it be?
    intents:
      ( |go) upstairs:
        go to: Upstairs
      stay ( |here) (on the|on this) ( |i'm on):
        go to: Dining Room
      stop:
        go to: Exit Game

Exit Game:
  dialog: goodbye

Dining Room:
  dialog: You enter the dining room.
  choice: 
    dialog: Would you like to go to the kitchen or the living room?
    intents:
      ( |go to) ( |the) kitchen:
        go to: Kitchen
      ( |go to) ( |the) living room:
        go to: Living Room

Upstairs:
  dialog: You go upstairs and see three doors.
  choice:
    dialog: Which door would you like to go in? 1, 2, or 3?
    intents:
      ( |door) one:
        go to: Ghost Door Death
      ( |door) (two|three):
        go to: Ghost Door

Ghost Door:
  dialog: You open the door and find a ghost. You are so scared you run downstairs to the front door.
  go to: First Floor

Ghost Door Death:
  dialog: You open the door and find a ghost. You are dead.

Kitchen:
  dialog: You enter the kitchen. 
  choice: 
    dialog: Do you want to eat something, or do you want to go back to the dining room?
    intents:
      eat ( |food|something):
        go to: Poison Food Death
      ( |go to|go back to|back to) ( |the) dining room:
        go to: Dining Room

Poison Food Death:
  dialog: The food is poisonous. You are dead.

Living Room:
  dialog: You enter the living room. 
  choice:
    dialog: Will you turn on the radio or go to the hallway?
    intents:
      ( |turn on the|the) radio:
        go to: Radio Death
      ( |go to the|the) hallway:
        go to: Hallway

Radio Death:
  dialog: The radio electrocutes you. You are dead.

Hallway:
  dialog: You enter the hallway.
  choice:
    dialog: Will you go to the next room or leave the house?
    intents:
      ( |the) next room:
        go to: Found Treasure
      leave ( |the house):
        condition:
          value: attributes.hasTreasure
          if true: 
            go to: Game Over
          if false:
            dialog: There aren't that many doors.
            go to: Hallway

Found Treasure:
  dialog: You found some treasure!
  assign:
    set:
      hasTreasure: true
  choice: 
    dialog: Will you go back to the hall or to the next room?
    intents:
      ( |go to the|the) hallway:
        go to: Hallway
      ( |the) next room:
        go to: Ghost Door Death

Cant Exit:
  dialog: You cannot exit until you have treasure.
  go to: Hallway

Game Over:
  dialog: You managed to escape with the treasure.  You win!

